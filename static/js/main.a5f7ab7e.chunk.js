(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{214:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),s=a.n(l),i=(a(87),a(2)),c=a.n(i),o="d6570a6b091038395145cafcf7d50ae3bef07e5a",m="https://www.giantbomb.com/api/",u=a(80),d=a(81),f=a(79),h=a.n(f);function p(e){var t=e.title,a=e.loading,n=e.link;if(a)return r.a.createElement("div",{className:"bg-dark-gray h1 w5 mv2"});return n?r.a.createElement("a",{href:n,className:"".concat("db sans-serif f6 b mv2 near-white"," link"),target:"_blank",rel:"noopener noreferrer"},t):r.a.createElement("span",{className:"db sans-serif f6 b mv2 near-white"},t)}function b(e){var t=e.subtitle;return e.loading?r.a.createElement("div",{className:"bg-dark-gray h1 w4 mv2"}):r.a.createElement("span",{className:"db sans-serif f7 light-silver truncate"},t)}function v(e){var t=e.url,a=e.alt,n=e.loading;return e.show?n?r.a.createElement("div",{className:"h-12-rem bg-dark-gray br2"}):r.a.createElement("img",{className:"h-12-rem contain of-c w-100 br2",src:t,alt:a}):null}function g(e){var t=e.item,a=e.showImage,n=e.loading;return r.a.createElement("div",null,r.a.createElement(v,{url:t.imageUrl,alt:t.title,show:a,loading:n}),r.a.createElement(p,{link:t.url,title:t.title,loading:n}),r.a.createElement(b,{subtitle:t.subtitle,loading:n}))}p.defaultProps={title:"",loading:!1,link:null},b.defaultProps={loading:!1,subtitle:""},v.defaultProps={url:null,loading:!1,show:!0},g.defaultProps={loading:!1,item:{}};var E=a(77),w=a.n(E);function y(e){var t=e.list,a=e.open,n=e.onClose,l=e.noImages,s=e.limitTo;return r.a.createElement(w.a,{"aria-labelledby":"show-all-list-items",open:a,onClose:n},r.a.createElement("div",{className:"ph4 pv2 bg-near-black min-w6"},r.a.createElement(I,Object.assign({limitTo:s,noImages:l},t))))}function I(e){var t=e.items,a=e.loading,l=e.limitTo,s=e.label,i=e.noImages,o=Object(n.useState)(!1),m=Object(d.a)(o,2),f=m[0],p=m[1];return a?r.a.createElement("div",null,r.a.createElement("h2",{className:"near-white sans-serif f4 mb3"},s),Object(u.a)(Array(l).keys()).map(function(e){return r.a.createElement("div",{className:"mb4",key:e},r.a.createElement(g,{loading:a,showImage:e<1&&!i}))})):r.a.createElement("div",null,r.a.createElement("h2",{className:"near-white sans-serif f5 mb2"},s),r.a.createElement("h2",{className:"sans-serif f7 light-silver fw5 mb3"},"Updated ".concat(c()().format("HH:mm"))),t.slice(0,l).map(function(e,t){return r.a.createElement("div",{className:"mb3",key:e.title},r.a.createElement(g,{key:e.title,item:e,showImage:t<1&&!i}))}),t.length>l&&r.a.createElement(h.a,{size:"small",color:"primary",onClick:function(){p(!0)}},"Show more..."),r.a.createElement(y,{list:{items:t,loading:a,label:s},noImages:i,open:f,onClose:function(){p(!1)}}))}y.defaultProps={noImages:!1,limitTo:20},I.defaultProps={loading:!1,items:[],limitTo:3,label:"",noImages:!1};var k=a(18),N=a(19),j=a(21),S=a(20),D=a(22),_=a(23),O=a.n(_),M="http://0.0.0.0:8080/",T=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).fetch=function(){var e=a.props,t=e.url,n=e.params,r=e.corsAnywhere,l=e.headers;O.a.get((r?M:"")+t,{params:n,headers:l||{}}).then(function(e){a.setState({response:e,loading:!1,error:!1})},function(e){a.setState({loading:!1,error:e})})},a.state={loading:!0,response:[],intervalId:null,error:!1},a}return Object(D.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.fetchInterval,a=setInterval(function(){e.fetch()},t);this.setState({intervalId:a}),this.fetch()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.response,n=e.error;return(0,this.props.children)(a,t,n)}}]),t}(n.Component);function C(e){var t=e.url,a=e.label,n=e.params,l=e.fetchInterval,s=e.nItemsDisplay,i=e.noImages,c=e.nItemsTotal,o=e.transformResponse,m=e.transformItem;return r.a.createElement(T,{url:t,params:n,fetchInterval:l},function(e,t,n){if(t)return r.a.createElement(I,{label:a,noImages:i,loading:!0});if(n)return null;if(e){var l=o(e);return l?r.a.createElement(I,{label:a,noImages:i,limitTo:s,items:l.map(function(e){return m(e)}).slice(0,c)}):null}return null})}T.defaultProps={fetchInterval:6e4,params:null,corsAnywhere:!1,headers:null},C.defaultProps={label:void 0,params:{},fetchInterval:6e5,nItemsDisplay:3,nItemsTotal:20,noImages:!1,transformResponse:function(e){return e},transformItem:function(e){return e}};var x=["18"];var Y=a(28);var L=a(38),U=a.n(L),P=function(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelector("img").getAttribute("src")};function W(e){var t=e.time;return r.a.createElement("span",{className:"near-white sans-serif f1 b"},t.format("HH:mm"),r.a.createElement("span",{className:"near-white f3 fw4 db"},t.format("MMMM Do")))}var A=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).updateTime=function(){a.setState({time:c()()})},a.state={time:null,intervalId:null},a}return Object(D.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.updateTime()},1e3);this.setState({intervalId:t}),this.updateTime()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;e&&clearInterval(e)}},{key:"render",value:function(){var e=this.state.time;return e?r.a.createElement(W,{time:e}):null}}]),t}(n.Component),R="https://api.openweathermap.org/data/2.5/",H="c51868a10416e26716b878ad7ccacce6";function B(e){var t=e.weather;return r.a.createElement("div",{className:"tc"},r.a.createElement("span",{className:"near-white sans-serif f1 b db"},Math.round(t.temperature),"\xb0"),r.a.createElement("span",{className:"near-white sans-serif f3 db"},t.description))}var G=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).fetchWeather=function(){O.a.get("".concat(R,"weather"),{params:{appid:H,q:"Nacka,se",units:"metric"}}).then(function(e){var t=e.data;a.setState({loading:!1,weather:{temperature:t.main.temp,description:t.weather[0].description}})})},a.state={loading:!0,weather:null,intervalId:null},a}return Object(D.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.fetchWeather()},12e4);this.setState({intervalId:t}),this.fetchWeather()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;e&&clearInterval(e)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.weather;return t?r.a.createElement("div",{className:"bg-near-white w5 h1"}):a?r.a.createElement(B,{weather:a}):null}}]),t}(n.Component),q="http://192.168.86.27/api/lmgn3wPSGyP4ucjGgpoqZMpxVMWCaI0jGkJ1g7ta/";function F(e){var t=e.light,a=e.onClick,n=t.state.on,l=n?"yellow":"moon-gray";return r.a.createElement("div",{className:"w-100"},r.a.createElement("div",null,r.a.createElement("div",{className:"tc"},r.a.createElement("button",{type:"button",onClick:function(){return a(t.id,n)},className:"bg-".concat(l," b--").concat(l," h2 w2 br-100 pointer link grow dim")})),r.a.createElement("div",{className:"tc"},r.a.createElement("span",{className:"near-white sans-serif f6 fw5 mb1 mt0 truncate"},t.name))))}function J(e){var t=e.lights,a=e.onLightClicked,n=e.onAllLightsClicked,l=t.filter(function(e){return e.state.on}).length===t.length,s=l?"bg-yellow b--yellow":"bg-light-gray b--light-gray";return r.a.createElement("div",null,r.a.createElement("div",{className:"cf"},r.a.createElement("h2",{className:"near-white sans-serif f4 mt2 mb2"}," Light Control "),r.a.createElement("div",{className:""}),r.a.createElement("div",{className:"tc pt3 pb3"},r.a.createElement("button",{type:"button",onClick:function(){return n(l)},className:"".concat(s," h2 w2 v-mid br-100 pointer link grow dim")}),r.a.createElement("div",null,r.a.createElement("span",{className:"db near-white sans-serif f6 fw5 pt2 truncate"},"All lights"))),t.map(function(e){return r.a.createElement("div",{key:e.id,className:"dib w-100 fl mb3"},r.a.createElement(F,{light:e,onClick:a}))})))}J.defaultProps={lights:[]};var K=function(e){function t(e){var a;return Object(k.a)(this,t),(a=Object(j.a)(this,Object(S.a)(t).call(this,e))).fetchLights=function(){O.a.get("".concat(q,"lights")).then(function(e){if(null!==e){var t=e.data,n=[];Object.keys(t).forEach(function(e){return n.push(Object(Y.a)({},t[e],{id:e}))}),a.setState({lights:n})}})},a.onLightClicked=function(e,t){O.a.put("".concat(q,"lights/").concat(e,"/state"),{on:!t}).then(function(){a.fetchLights()})},a.onAllLightsClicked=function(e){a.state.lights.forEach(function(t){O.a.put("".concat(q,"lights/").concat(t.id,"/state"),{on:!e}).then(function(){})})},a.state={lights:[],intervalId:null},a}return Object(D.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.fetchLights()},1e4);this.setState({intervalId:t}),this.fetchLights()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this.state.lights;return e&&e.length?r.a.createElement("div",null,r.a.createElement(J,{lights:e,onLightClicked:this.onLightClicked,onAllLightsClicked:this.onAllLightsClicked})):null}}]),t}(n.Component),V=a(30);function z(e){var t,a=e.filter,n=e.label;return r.a.createElement(C,{label:n,url:"https://newsapi.org/v2/top-headlines",fetchInterval:6e4,params:(t={},Object(V.a)(t,a.type,a.value),Object(V.a)(t,"apiKey","8fcc0e50139642efab56a0fcd657cb23"),t),transformResponse:function(e){return e.data.articles},transformItem:function(e){return{imageUrl:e.urlToImage,title:e.title,subtitle:c()(e.publishedAt).fromNow(),url:e.url}}})}z.defaultProps={label:"",filter:{type:"country",value:"se"}};var Z="Nya \xd6ler";var Q="GIUYQBXKZDY2VNT7";function X(e){var t=e.symbol,a=e.nStocks,n=e.invested;return r.a.createElement(T,{url:"https://www.alphavantage.co/query",params:{outputsize:"compact",apikey:Q,symbol:t,function:"TIME_SERIES_DAILY",fetchInterval:"1000 * 60 * 10"}},function(e,l,s){if(s)return null;if(l)return r.a.createElement("h2",{className:"near-white sans-serif f3 mb3"},"Stocks");var i=e.data["Time Series (Daily)"];if(!i)return null;var o=[];Object.keys(i).forEach(function(e){o.push(Object(Y.a)({},i[e],{date:c()(e)}))});var m=o.sort(function(e,t){return e.date+t.date}),u=m[0],d=m[1];if(!u||!d)return null;var f=Math.round(100*u["4. close"])/100,h=Math.round(100*d["4. close"])/100;return r.a.createElement("div",{className:""},r.a.createElement("h2",{className:"near-white sans-serif f5 mb2"},"Stocks"),r.a.createElement("h2",{className:"sans-serif f7 light-silver fw5 mb3"},"Updated ".concat(c()().format("HH:mm"))),r.a.createElement("div",{className:"sans-serif light-silver tc f4 mt4"},t),r.a.createElement("div",{className:" tc f2 near-white sans-serif mv3 b"},"".concat(f.toFixed(2)," kr")),f>h?r.a.createElement("div",{className:"tc sans-serif f4 green"},"".concat(Math.abs((100*(h/f-1)).toFixed(1)),"%"),r.a.createElement("span",null," \u2197 ")):r.a.createElement("div",{className:"tc sans-serif f4 red"},"".concat(Math.abs((100*(h/f-1)).toFixed(1)),"%"),r.a.createElement("span",null," \u2199 ")),a&&n&&r.a.createElement("div",{className:"tc mt3"},r.a.createElement("span",{className:"white sans-serif f6 b lh-copy"},"(","".concat((100*(a*f/n-1)).toFixed(1),"%"),")")))})}X.defaultProps={nStocks:null,invested:null};var $=a(46);function ee(e){var t=e.lat,a=e.lng,n=Object($.getSunrise)(t,a),l=Object($.getSunset)(t,a);return r.a.createElement("div",{className:"tc"},r.a.createElement("span",{className:"light-silver sans-serif f4 db mt2 mb1"},"Sunrise"),r.a.createElement("span",{className:"white sans-serif f3 db b"},c()(n).format("HH:mm")),r.a.createElement("span",{className:"light-silver sans-serif f4 db mt2 mb1"},"Sunset"),r.a.createElement("span",{className:"white sans-serif f3 db b"},c()(l).format("HH:mm")))}var te=[r.a.createElement(function(){return r.a.createElement(C,{label:"Giant Bomb Live",url:"".concat(m,"chats"),params:{api_key:o,format:"json"},fetchInterval:12e4,transformResponse:function(e){return e.data.results.reverse()},transformItem:function(e){return"giantbomb8"===e.channel_name&&e.history?{title:e.title,subtitle:e.history[0].name,imageUrl:e.history[0].image.medium_url,url:"https://www.giantbomb.com/infinite/"}:{title:e.title,subtitle:e.deck,imageUrl:e.image.medium_url,url:e.site_detail_url}}})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Game Releases",url:"".concat(m,"games"),params:{api_key:o,format:"json",filter:"original_release_date:\n        ".concat(c()().format("YYYY-MM-DD"),"|\n        ").concat(c()().add(1,"month").format("YYYY-MM-DD"))},fetchInterval:6e5,transformResponse:function(e){return e.data.results.filter(function(e){return null!==e.expected_release_month&&null!==e.expected_release_day&&null!==e.expected_release_year}).map(function(e){return Object(Y.a)({},e,{date:c()([e.expected_release_year,e.expected_release_month-1,e.expected_release_day])})}).filter(function(e){return e.date>c()().subtract(1,"days")}).sort(function(e,t){return e.date-t.date})},transformItem:function(e){return{title:e.name,imageUrl:e.image.medium_url,url:e.site_detail_url,subtitle:e.date.calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"})}}})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Giant Bomb Upcoming",url:"https://www.giantbomb.com/upcoming_json",fetchInterval:3e5,transformResponse:function(e){return e.data.upcoming},transformItem:function(e){return{title:e.title,subtitle:c()(e.date).add(9,"hours").calendar(),imageUrl:"https://".concat(e.image),url:"https://www.giantbomb.com"}}})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Album Releases",url:"https://rss.itunes.apple.com/api/v1/us/apple-music/coming-soon/all/100/explicit.json",fetchInterval:18e5,transformResponse:function(e){return e.data.feed.results.filter(function(e){return e.genres.filter(function(e){return x.includes(e.genreId)}).length})},transformItem:function(e){return{title:"".concat(e.artistName," - ").concat(e.name),subtitle:c()(e.releaseDate).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"d MMMM"}),imageUrl:e.artworkUrl100,url:"https://www.google.com/search?q=".concat(e.artistName," ").concat(e.name)}}})},null),r.a.createElement(z,{label:"News",filter:{type:"sources",value:"reuters"}}),r.a.createElement(function(){return r.a.createElement(C,{label:"Latest Giant Bomb Videos",url:"".concat(m,"videos"),params:{field_list:"name,id,image,publish_date,site_detail_url",api_key:o,format:"json"},fetchInterval:6e5,transformResponse:function(e){return e.data.results},transformItem:function(e){return{title:e.name,subtitle:c()(e.publish_date).add(9,"hours").fromNow(),url:e.site_detail_url,imageUrl:e.image.medium_url}}})},null),r.a.createElement(X,{symbol:"STO:IMMU",nStocks:815,invested:10492}),r.a.createElement(function(){return r.a.createElement(T,{headers:{"Ocp-Apim-Subscription-Key":"ed6bfcdbf6074559bd67365384159e63"},url:"https://api-extern.systembolaget.se/product/v1/product/search",params:{SortBy:"SellStartDate",SubCategory:"\xd6l",SellStartDateFrom:c()().subtract(5,"day").format("YYYY-MM-DD"),SellStartDateTo:c()().add(14,"day").format("YYYY-MM-DD")}},function(e,t,a){if(t)return r.a.createElement(I,{label:Z,limitTo:1,loading:!0,fetchInterval:3e5});if(a)return null;if(e){var n=e.data.Hits;return n?r.a.createElement("div",null,r.a.createElement(I,{label:Z,noImages:!0,limitTo:6,items:n.filter(function(e){return e.IsInStoreSearchAssortment.includes("0237")}).map(function(e){return{title:"".concat(e.ProductNameBold," ").concat(e.ProductNameThin||""),subtitle:c()(e.SellStartDate).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"}),url:"https://www.systembolaget.se/dryck/ol/".concat(e.ProductNameBold.trim().replace(/\s+/g,"-").replace(/\./g,"").replace(/\u00e4/g,"a").replace(/\u00f6/g,"o").replace(/\\|\//g,"").toLowerCase(),"-").concat(e.ProductNumber),imageUrl:"https://www.systembolaget.se/content/assets/images/products/product-placeholder.png"}})})):null}return null})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Allsvenskans tabell",url:"https://allsvenskan-api.herokuapp.com/as",fetchInterval:6e5,nItemsDisplay:7,noImages:!0,transformResponse:function(e){return JSON.parse(e.data).result.item},transformItem:function(e){return{title:"".concat(e.position,". ").concat(e.team),subtitle:"".concat(e.points," po\xe4ng - ").concat(e.round," spelade")}}})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Recipes",url:"https://www.budgetbytes.com/feed/",fetchInterval:9e5,transformResponse:function(e){return U.a.parse(e.data).rss.channel.item},transformItem:function(e){return{title:e.title,subtitle:c()(e.pubDate).calendar(),url:e.link,imageUrl:P(e["content:encoded"])}}})},null),r.a.createElement(function(){return r.a.createElement(C,{label:"Podcasts",url:"https://feed.rssunify.com/5da1b118c13c4/rss.xml",fetchInterval:9e5,transformResponse:function(e){return U.a.parse(e.data,{ignoreAttributes:!1}).rss.channel.item},transformItem:function(e){return{title:e.title,subtitle:c()(e.pubDate).calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"}),url:e.link,imageUrl:e["itunes:image"]["@_href"]}}})},null)],ae="w-20",ne="ph2";var re=function(){return r.a.createElement("div",{className:"bg-near-black mh3"},r.a.createElement("div",{className:"cf fl w-15 pt5"},r.a.createElement("div",{className:"tc"},r.a.createElement(A,null),r.a.createElement("div",{className:"mv4"},r.a.createElement(ee,{lat:59.305377,lng:18.145041})),r.a.createElement(G,null)),r.a.createElement("div",{className:"pt4 tc"},r.a.createElement(K,null))),r.a.createElement("div",{className:"fl w-85 cf"},te.map(function(e){return r.a.createElement("div",{className:"".concat(ae," ").concat(ne," fl")},e)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(re,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},82:function(e,t,a){e.exports=a(214)},87:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.a5f7ab7e.chunk.js.map