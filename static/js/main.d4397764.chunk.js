(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{222:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),i=a.n(l),s=(a(91),a(2)),c=a.n(s),m="d6570a6b091038395145cafcf7d50ae3bef07e5a",o="https://www.giantbomb.com/api/",u=a(38),d=a(85),f=a(83),p=a.n(f);function h(e){var t=e.title,a=e.loading,n=e.link,l=e.large;if(a)return r.a.createElement("div",{className:"bg-dark-gray h1 w5 mv2"});var i="".concat(l?"f6 b":"f6 fw5"," db sans-serif mv2 near-white");return n?r.a.createElement("a",{href:n,className:"".concat(i," link truncate-two-lines"),target:"_blank",rel:"noopener noreferrer"},t):r.a.createElement("span",{className:i},t)}function v(e){var t=e.subtitle;return e.loading?r.a.createElement("div",{className:"bg-dark-gray h1 w4 mv2"}):r.a.createElement("span",{className:"db sans-serif f7 light-silver truncate"},t)}function b(e){var t=e.url,a=e.alt,n=e.loading,l=e.show,i=e.textOverlay;if(!l)return null;if(n)return r.a.createElement("div",{className:"h-12-rem bg-dark-gray br2"});var s=r.a.createElement("img",{className:"h-12-rem contain of-c w-100 br2",src:t,alt:a});return i?r.a.createElement("div",{className:"relative"},s,r.a.createElement("span",{className:"darken-bottom db w-100 absolute bottom-0 right-0 tr pv2 ph3 sans-serif white f3 b"},i)):s}function g(e){var t=e.item,a=e.showImage,n=e.loading,l=e.subtitleOverImage,i=e.largeTitle;return r.a.createElement("div",null,r.a.createElement(b,{textOverlay:l?t.subtitle:null,url:t.imageUrl,alt:t.title,show:a,loading:n}),r.a.createElement(h,{link:t.url,title:t.title,loading:n,large:i}),!l&&r.a.createElement(v,{subtitle:t.subtitle,loading:n}))}h.defaultProps={title:"",loading:!1,link:null,large:!1},v.defaultProps={loading:!1,subtitle:""},b.defaultProps={url:null,loading:!1,show:!0,textOverlay:null},g.defaultProps={loading:!1,item:{},subtitleOverImage:!1,largeTitle:!1};var w=a(81),I=a.n(w);function E(e){var t=e.list,a=e.open,n=e.onClose,l=e.noImages,i=e.limitTo;return r.a.createElement(I.a,{"aria-labelledby":"show-all-list-items",open:a,onClose:n},r.a.createElement("div",{className:"ph4 pv2 bg-near-black min-w6"},r.a.createElement(k,Object.assign({limitTo:i,noImages:l},t))))}function k(e){var t=e.items,a=e.loading,l=e.limitTo,i=e.label,s=e.noImages,m=e.firstItemSubtitleOnImage,o=Object(n.useState)(!1),f=Object(d.a)(o,2),h=f[0],v=f[1];return a?r.a.createElement("div",null,r.a.createElement("h2",{className:"near-white sans-serif f5 mb2"},i),Object(u.a)(Array(l).keys()).map(function(e){return r.a.createElement("div",{className:"mb4",key:e},r.a.createElement(g,{loading:a,showImage:e<1&&!s}))})):r.a.createElement("div",null,r.a.createElement("h2",{className:"near-white sans-serif f5 mb2"},i),r.a.createElement("h2",{className:"sans-serif f7 light-silver fw5 mb3"},"Updated ".concat(c()().format("HH:mm"))),t.slice(0,l).map(function(e,t){return r.a.createElement("div",{className:"mb3",key:e.title},r.a.createElement(g,{key:e.title,item:e,showImage:t<1&&!s,subtitleOverImage:t<1&&m,largeTitle:t<1}))}),t.length>l&&r.a.createElement("div",{className:"tc"},r.a.createElement(p.a,{size:"small",color:"primary",onClick:function(){v(!0)}},"Show more...")),r.a.createElement(E,{list:{items:t,loading:a,label:i},noImages:s,open:h,onClose:function(){v(!1)}}))}E.defaultProps={noImages:!1,limitTo:20},k.defaultProps={loading:!1,items:[],limitTo:3,label:"",noImages:!1,firstItemSubtitleOnImage:!1};var y=a(23),N=a(24),O=a(26),_=a(25),j=a(27),S=a(37),T=a.n(S),D=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(_.a)(t).call(this,e))).fetch=function(){var e=a.props,t=e.url,n=e.params,r=e.headers;T.a.get(t,{params:n,headers:r||{}}).then(function(e){a.setState({response:e,loading:!1,error:!1})},function(e){a.setState({loading:!1,error:e})})},a.state={loading:!0,response:[],intervalId:null,error:!1},a}return Object(j.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,a=t.fetchInterval;if(!t.mocked){var n=setInterval(function(){e.fetch()},a);this.setState({intervalId:n}),this.fetch()}}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;clearInterval(e)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.response,n=e.error,r=this.props,l=r.children,i=r.mocked;return i?l(i,!1,null):l(a,t,n)}}]),t}(n.Component);function x(e){var t=e.url,a=e.label,n=e.params,l=e.fetchInterval,i=e.nItemsDisplay,s=e.noImages,c=e.nItemsTotal,m=e.transformResponse,o=e.transformItem,u=e.mocked,d=e.firstItemSubtitleOnImage;return u?r.a.createElement(k,{label:a,noImages:s,limitTo:i,firstItemSubtitleOnImage:d,items:m(u).map(function(e){return o(e)}).slice(0,c)}):r.a.createElement(D,{url:t,params:n,fetchInterval:l},function(e,t,n){if(t)return r.a.createElement(k,{label:a,noImages:s,loading:!0});if(n)return null;if(e){if("string"===typeof e.data&&(e.data.includes("<!DOCTYPE HTML")||e.data.includes("One or more feeds were not valid RSS")))return null;var l=m(e);return l&&l.length?r.a.createElement(k,{label:a,noImages:s,limitTo:i,firstItemSubtitleOnImage:d,items:l.map(function(e){return o(e)}).slice(0,c)}):null}return null})}function M(e){var t=e.mocked;return r.a.createElement(x,{mocked:t,label:"Latest Giant Bomb Videos",url:"".concat(o,"videos"),params:{field_list:"name,id,image,publish_date,site_detail_url",api_key:m,format:"json"},nItemsTotal:10,fetchInterval:6e5,transformResponse:function(e){return e.data.results},transformItem:function(e){return{title:e.name,subtitle:c()(e.publish_date).add(9,"hours").fromNow(),url:e.site_detail_url,imageUrl:e.image.medium_url}}})}D.defaultProps={fetchInterval:6e4,params:null,headers:null},x.defaultProps={label:void 0,params:{},fetchInterval:6e5,nItemsDisplay:3,nItemsTotal:20,noImages:!1,transformResponse:function(e){return e},transformItem:function(e){return e},firstItemSubtitleOnImage:!1};var R=a(84),U=[157,154];function P(e){var t=e.mocked;return r.a.createElement(x,{mocked:t,label:"Game Releases",url:"".concat(o,"games"),params:{api_key:m,format:"json",filter:"original_release_date:\n        ".concat(c()().format("YYYY-MM-DD"),"|\n        ").concat(c()().add(7,"day").format("YYYY-MM-DD"))},nItemsDisplay:3,nItemsTotal:12,fetchInterval:6e5,transformResponse:function(e){return e.data.results.filter(function(e){return e.platforms&&e.platforms.filter(function(e){return U.includes(e.id)})}).filter(function(e){return null!==e.expected_release_month&&null!==e.expected_release_day&&null!==e.expected_release_year}).map(function(e){return Object(R.a)({},e,{date:c()([e.expected_release_year,e.expected_release_month-1,e.expected_release_day])})}).filter(function(e){return e.date>c()().subtract(1,"days")}).sort(function(e,t){return e.date-t.date})},transformItem:function(e){return{title:e.name,imageUrl:e.image.medium_url,url:e.site_detail_url,subtitle:e.date.calendar(null,{lastDay:"[Yesterday]",sameDay:"[Today]",nextDay:"[Tomorrow]",lastWeek:"[last] dddd",nextWeek:"dddd",sameElse:"L"})}}})}var H=a(18),W=a.n(H),Y=function(e){var t=document.createElement("div");return t.innerHTML=e,t.querySelector("img").getAttribute("src")};function C(){return r.a.createElement(x,{label:"New Recipes",url:"https://www.budgetbytes.com/feed/",fetchInterval:9e5,transformResponse:function(e){return W.a.parse(e.data).rss.channel.item},transformItem:function(e){return{title:e.title,subtitle:c()(e.pubDate).calendar(),url:e.link,imageUrl:Y(e["content:encoded"])}}})}function G(){return r.a.createElement(x,{label:"New Recipes",url:"https://www.bonappetit.com/feed/latest-recipes/rss",fetchInterval:9e5,transformResponse:function(e){return W.a.parse(e.data,{ignoreAttributes:!1}).rss.channel.item},transformItem:function(e){return{title:e.title,subtitle:c()(e.pubDate).calendar(),url:e.link,imageUrl:e["media:thumbnail"]["@_url"]}}})}function L(e){var t=e.time;return r.a.createElement("span",{className:"near-white sans-serif f1 b"},t.format("HH:mm"),r.a.createElement("span",{className:"near-white f3 fw4 db"},t.format("MMMM Do")))}var A=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(_.a)(t).call(this,e))).updateTime=function(){a.setState({time:c()()})},a.state={time:null,intervalId:null},a}return Object(j.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.updateTime()},1e3);this.setState({intervalId:t}),this.updateTime()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;e&&clearInterval(e)}},{key:"render",value:function(){var e=this.state.time;return e?r.a.createElement(L,{time:e}):null}}]),t}(n.Component),B="https://api.openweathermap.org/data/2.5/",q="c51868a10416e26716b878ad7ccacce6";function J(e){var t=e.weather;return r.a.createElement("div",{className:"tc"},r.a.createElement("span",{className:"near-white sans-serif f1 b db"},Math.round(t.temperature),"\xb0"),r.a.createElement("span",{className:"near-white sans-serif f3 db"},t.description))}var z=function(e){function t(e){var a;return Object(y.a)(this,t),(a=Object(O.a)(this,Object(_.a)(t).call(this,e))).fetchWeather=function(){T.a.get("".concat(B,"weather"),{params:{appid:q,q:"Nacka Kommun,se",units:"metric"}}).then(function(e){var t=e.data;a.setState({loading:!1,weather:{temperature:t.main.temp,description:t.weather[0].description}})})},a.state={loading:!0,weather:null,intervalId:null},a}return Object(j.a)(t,e),Object(N.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=setInterval(function(){e.fetchWeather()},12e4);this.setState({intervalId:t}),this.fetchWeather()}},{key:"componentWillUnmount",value:function(){var e=this.state.intervalId;e&&clearInterval(e)}},{key:"render",value:function(){var e=this.state,t=e.loading,a=e.weather;return t?r.a.createElement("div",{className:"bg-near-white w5 h1"}):a?r.a.createElement(J,{weather:a}):null}}]),t}(n.Component);a(29);function F(e){var t=e.mocked;return r.a.createElement(x,{mocked:t,label:"Giant Bomb Upcoming",url:"https://www.giantbomb.com/upcoming_json",fetchInterval:3e5,firstItemSubtitleOnImage:!0,nItemsDisplay:4,transformResponse:function(e){return e.data.liveNow?[e.data.liveNow].concat(Object(u.a)(e.data.upcoming)):e.data.upcoming},transformItem:function(e){return{title:e.title,subtitle:e.date?c()(e.date).add(9,"hours").calendar():r.a.createElement(r.a.Fragment,null,r.a.createElement("span",{className:"live-pulse"}),r.a.createElement("span",{className:"ml2"},"Live")),imageUrl:"https://".concat(e.image),url:"https://www.giantbomb.com"}}})}var K=a(46);function V(e){var t=e.lat,a=e.lng,n=Object(K.getSunrise)(t,a),l=Object(K.getSunset)(t,a);return r.a.createElement("div",{className:"tc"},r.a.createElement("span",{className:"light-silver sans-serif f4 db mt2 mb1"},"Sunrise"),r.a.createElement("span",{className:"white sans-serif f3 db b"},c()(n).format("HH:mm")),r.a.createElement("span",{className:"light-silver sans-serif f4 db mt2 mb1"},"Sunset"),r.a.createElement("span",{className:"white sans-serif f3 db b"},c()(l).format("HH:mm")))}function $(){return r.a.createElement(x,{label:"New on Game Pass",url:"https://news.xbox.com/en-us/feed/",fetchInterval:9e5,transformResponse:function(e){return W.a.parse(e.data,{ignoreAttributes:!1}).rss.channel.item.filter(function(e){return e.title.includes("Game Pass")})},transformItem:function(e){return{title:e.title,subtitle:c()(e.pubDate).calendar(),url:e.link,imageUrl:e["media:thumbnail"]["@_url"]}}})}var Q=[r.a.createElement("div",{className:"tc pa4 mt4"},r.a.createElement(A,null),r.a.createElement("div",{className:"mv4"},r.a.createElement(V,{lat:59.305377,lng:18.145041})),r.a.createElement(z,null)),r.a.createElement(F,null),r.a.createElement(P,null),,r.a.createElement($,null),r.a.createElement(M,null),r.a.createElement(C,null),r.a.createElement(G,null)],X="w-20",Z="ph3";var ee=function(){return r.a.createElement("div",{className:"bg-near-black pv2 ph4"},r.a.createElement("div",{className:"fl w-100 cf"},Q.map(function(e){return r.a.createElement("div",{className:"".concat(X," ").concat(Z," fl min-h6 ")},e)})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(ee,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},86:function(e,t,a){e.exports=a(222)},91:function(e,t,a){}},[[86,1,2]]]);
//# sourceMappingURL=main.d4397764.chunk.js.map